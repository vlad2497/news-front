{"version":3,"sources":["components/Pages/Apps/Apps.js","components/Pages/Music/Music.js","externalAPI/index.js","components/UI/NewsBlock/index.js","components/UI/Pagination/index.js","components/Pages/Home/Home.js","helpers/index.js","store/AuthStore.js","store/HomeStore.js","store/index.js","components/App/Layout/Header/Header.js","components/App/Layout/Footer/Footer.js","components/Pages/Admin/Admin.js","components/UI/LoginInput/index.js","components/UI/PasswordInput/index.js","messages/index.js","components/Auth/Login/Login.js","common/Routes/PrivateRoute.js","components/App/Layout/NoPage/NoPage.js","components/App/App.js","index.js"],"names":["Apps","Music","apiKey","axios","defaults","baseURL","articles","page","category","country","search","get","params","q","pageSize","then","response","NewsBlock","title","urlToImage","description","className","src","alt","Pagination","totalPages","setPage","onClick","optionsCountries","label","value","optionsCategories","Home","searchTimer","useState","setArticles","loading","setLoading","setTotalPages","setCategory","setCountry","setSearch","useEffect","getArticles","data","totalResults","type","placeholder","onChange","event","searchWord","target","clearTimeout","setTimeout","searchChange","options","values","setCountryValues","color","searchable","setCategoryValues","height","width","timeout","map","article","key","setLocaleStorageValue","token_type","access_token","refresh_token","expires_in","localStorage","setItem","clearLocaleStorageValue","removeItem","setAuthorizationHeader","headers","common","AuthStore","accessToken","getItem","user","Promise","resolve","reject","post","login","userRequest","catch","error","changeLoading","status","expiresDate","Date","currentDate","setSeconds","checkExpires","refreshRequest","logoutRequest","refreshToken","refresh","this","decorate","observable","action","loginRequest","HomeStore","store","createContext","authStore","homeStore","Header","observer","match","history","useHistory","useContext","to","push","Footer","Admin","path","component","LoginInput","input","meta","visited","active","PasswordInput","messages","errors","email","password","incorrect","Login","Object","keys","length","onSubmit","ToastsStore","validate","render","handleSubmit","name","position","ToastsContainerPosition","TOP_CENTER","PrivateRoute","RouteComponent","rest","routeProps","NoPage","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.709bae6a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Apps = () => {\r\n  return <div>Apps page</div>;\r\n};\r\n\r\nexport default Apps;\r\n","import React from \"react\";\r\n\r\nconst Music = () => {\r\n  return <div>Music page</div>;\r\n};\r\n\r\nexport default Music;\r\n","import axios from \"axios\";\r\n\r\nconst apiKey = \"0783ea48b34e4d558c3301f7857cd57b\";\r\n\r\naxios.defaults.baseURL = \"https://news-back.herokuapp.com\";\r\n\r\nexport const getUser = () => {\r\n  return axios.get(\"/api/user\").then(response => response);\r\n};\r\n\r\nexport const login = data =>\r\n  axios.post(\"/api/login\", data).then(response => response);\r\n\r\nexport const logout = () =>\r\n  axios.post(\"/api/logout\").then(response => response);\r\n\r\nexport const refresh = () => {\r\n  const refresh_token = localStorage.getItem(\"refresh_token\");\r\n  return axios\r\n    .post(\"/api/refresh\", null, { headers: { refreshToken: refresh_token } })\r\n    .then(response => response);\r\n};\r\n\r\nexport const articles = (\r\n  page = 1,\r\n  category = \"\",\r\n  country = \"gb\",\r\n  search = \"\"\r\n) => {\r\n  return axios\r\n    .get(\"https://newsapi.org/v2/top-headlines\", {\r\n      params: {\r\n        country,\r\n        category,\r\n        q: search,\r\n        pageSize: 8,\r\n        page,\r\n        apiKey\r\n      }\r\n    })\r\n    .then(response => response);\r\n};\r\n","import React from \"react\";\r\nimport \"./style.scss\";\r\n\r\nexport const NewsBlock = ({ title, urlToImage, description }) => {\r\n  return (\r\n    <div className=\"news-block\">\r\n      <h3 className=\"news-block__title\">{title}</h3>\r\n      <img className=\"news-block__img\" src={urlToImage} alt=\"news\" />\r\n      <div className=\"news-block__description\">{description}</div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./style.scss\";\r\n\r\nexport const Pagination = ({ page, totalPages, setPage }) => {\r\n  return (\r\n    <div className=\"pagination\">\r\n      <div\r\n        className=\"pagination__arrow\"\r\n        onClick={() => setPage(page - 1 < 0 ? 0 : page - 1)}\r\n      >\r\n        &#8678;\r\n      </div>\r\n      <div\r\n        className=\"pagination__arrow\"\r\n        onClick={() => setPage(page + 1 > totalPages ? totalPages : page + 1)}\r\n      >\r\n        &#8680;\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { articles as getArticles } from \"./../../../externalAPI\";\r\nimport { NewsBlock } from \"./../../UI/NewsBlock\";\r\nimport { Pagination } from \"./../../UI/Pagination\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Select from \"react-dropdown-select\";\r\n\r\nconst optionsCountries = [\r\n  { label: \"Russia\", value: \"ru\" },\r\n  { label: \"England\", value: \"gb\" }\r\n];\r\nconst optionsCategories = [\r\n  { label: \"General\", value: \"general\" },\r\n  { label: \"Business\", value: \"business\" },\r\n  { label: \"Technology\", value: \"technology\" }\r\n];\r\n\r\nconst Home = () => {\r\n  const [articles, setArticles] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [loading, setLoading] = useState(true);\r\n  const [totalPages, setTotalPages] = useState(true);\r\n  const [category, setCategory] = useState(\"\");\r\n  const [country, setCountry] = useState(\"gb\");\r\n  const [search, setSearch] = useState(\"\");\r\n  let searchTimer;\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    getArticles(page, category, country, search).then(response => {\r\n      setArticles(response.data.articles);\r\n      setTotalPages(response.data.totalResults);\r\n      setLoading(false);\r\n    });\r\n  }, [page, category, country, search]);\r\n\r\n  const setCategoryValues = values => {\r\n    setCategory(values[0].value);\r\n  };\r\n\r\n  const setCountryValues = values => {\r\n    setCountry(values[0].value);\r\n  };\r\n\r\n  const searchChange = event => {\r\n    let searchWord = event.target.value;\r\n    clearTimeout(searchTimer);\r\n    searchTimer = setTimeout(function() {\r\n      setSearch(searchWord);\r\n    }, 1000);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"filter-wrapper\">\r\n        <div className=\"search\">\r\n          <input\r\n            className=\"search__input\"\r\n            type=\"search\"\r\n            placeholder=\"Enter keyword\"\r\n            onChange={event => searchChange(event)}\r\n          />\r\n        </div>\r\n        <div className=\"select\">\r\n          <div className=\"select-wrapper\">\r\n            <Select\r\n              options={optionsCountries}\r\n              onChange={values => setCountryValues(values)}\r\n              color=\"#8aff\"\r\n              searchable={false}\r\n              placeholder=\"Country\"\r\n              className=\"select__item\"\r\n            />\r\n          </div>\r\n          <div className=\"select-wrapper\">\r\n            <Select\r\n              options={optionsCategories}\r\n              onChange={values => setCategoryValues(values)}\r\n              color=\"#8aff\"\r\n              searchable={false}\r\n              placeholder=\"Category\"\r\n              className=\"select__item\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        {!loading ? (\r\n          <div className=\"news\">\r\n            {articles.map(article => {\r\n              return (\r\n                <NewsBlock\r\n                  title={article.title}\r\n                  urlToImage={article.urlToImage}\r\n                  description={article.description}\r\n                  key={article.title}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        ) : (\r\n          <div className=\"form-wrapper\">\r\n            <Loader\r\n              type=\"Puff\"\r\n              color=\"#40e1d1\"\r\n              height={100}\r\n              width={100}\r\n              timeout={3000}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <Pagination page={page} totalPages={totalPages} setPage={setPage} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import axios from \"axios\";\r\n\r\nexport const setLocaleStorageValue = ({\r\n  token_type,\r\n  access_token,\r\n  refresh_token,\r\n  expires_in\r\n}) => {\r\n  localStorage.setItem(\"access_token\", `${token_type} ${access_token}`);\r\n  localStorage.setItem(\"refresh_token\", refresh_token);\r\n  localStorage.setItem(\"expires_in\", expires_in);\r\n};\r\n\r\nexport const clearLocaleStorageValue = () => {\r\n  localStorage.removeItem(\"access_token\");\r\n  localStorage.removeItem(\"refresh_token\");\r\n  localStorage.removeItem(\"expires_in\");\r\n};\r\n\r\nexport const checkExpires = () => {\r\n  let expiresDate = new Date();\r\n  let currentDate = new Date();\r\n\r\n  expiresDate.setSeconds(localStorage.getItem(\"expires_in\"));\r\n\r\n  return currentDate < expiresDate;\r\n};\r\n\r\nexport const setAuthorizationHeader = access_token => {\r\n  axios.defaults.headers.common[\"Authorization\"] = access_token;\r\n};\r\n","import { decorate, observable, action } from \"mobx\";\r\nimport { login, logout, refresh, getUser } from \"./../externalAPI\";\r\nimport {\r\n  setLocaleStorageValue,\r\n  checkExpires,\r\n  clearLocaleStorageValue,\r\n  setAuthorizationHeader\r\n} from \"./../helpers\";\r\n\r\nclass AuthStore {\r\n  constructor() {\r\n    setAuthorizationHeader(localStorage.getItem(\"access_token\"));\r\n  }\r\n\r\n  accessToken = localStorage.getItem(\"access_token\");\r\n  user = {};\r\n  loading = false;\r\n\r\n  loginRequest(data) {\r\n    return new Promise((resolve, reject) => {\r\n      login(data)\r\n        .then(response => {\r\n          let { access_token, token_type } = response.data;\r\n\r\n          setAuthorizationHeader(`${token_type} ${access_token}`);\r\n          setLocaleStorageValue(response.data);\r\n          this.accessToken = access_token;\r\n\r\n          this.userRequest();\r\n\r\n          resolve();\r\n        })\r\n        .catch(error => {\r\n          localStorage.removeItem(\"access_token\");\r\n          this.accessToken = \"\";\r\n\r\n          reject(error);\r\n        });\r\n    });\r\n  }\r\n\r\n  logoutRequest() {\r\n    return new Promise((resolve, reject) => {\r\n      logout()\r\n        .then(() => {\r\n          clearLocaleStorageValue();\r\n          this.accessToken = \"\";\r\n          this.user = {};\r\n          resolve();\r\n        })\r\n        .catch(error => {\r\n          clearLocaleStorageValue();\r\n          this.accessToken = \"\";\r\n          this.user = {};\r\n          reject(error);\r\n        });\r\n    });\r\n  }\r\n\r\n  userRequest() {\r\n    getUser()\r\n      .then(response => {\r\n        this.user = response.data;\r\n        this.changeLoading(false);\r\n      })\r\n      .catch(error => {\r\n        this.changeLoading(false);\r\n        if (error.response.status === 401)\r\n          if (localStorage.getItem(\"refresh_token\") && checkExpires()) {\r\n            this.changeLoading(true);\r\n            this.refreshRequest();\r\n          } else this.logoutRequest();\r\n      });\r\n  }\r\n\r\n  refreshRequest() {\r\n    refresh()\r\n      .then(response => {\r\n        let { access_token, token_type } = response.data;\r\n        setLocaleStorageValue(response.data);\r\n        setAuthorizationHeader(`${token_type} ${access_token}`);\r\n        this.accessToken = access_token;\r\n        this.userRequest();\r\n      })\r\n      .catch(() => {\r\n        this.changeLoading(false);\r\n        this.logoutRequest();\r\n      });\r\n  }\r\n\r\n  changeLoading(value) {\r\n    this.loading = value;\r\n  }\r\n}\r\n\r\ndecorate(AuthStore, {\r\n  accessToken: observable,\r\n  user: observable,\r\n  userRequest: action,\r\n  loginRequest: action,\r\n  loading: observable,\r\n  changeLoading: action\r\n});\r\n\r\nexport default new AuthStore();\r\n","import { decorate, observable, action } from \"mobx\";\r\nimport { articles } from \"./../externalAPI\";\r\n\r\nclass HomeStore {\r\n  articles = [];\r\n\r\n  getArticles() {\r\n    articles().then(response => {\r\n      this.articles = response.data.articles;\r\n    });\r\n  }\r\n}\r\n\r\ndecorate(HomeStore, {\r\n  articles: observable,\r\n  getArticles: action\r\n});\r\n\r\nexport default new HomeStore();\r\n","import { createContext } from \"react\";\r\nimport AuthStore from \"./AuthStore\";\r\nimport HomeStore from \"./HomeStore\";\r\n\r\nconst store = createContext({\r\n  authStore: AuthStore,\r\n  homeStore: HomeStore\r\n});\r\n\r\nexport default store;\r\n","import React, { useContext } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { observer } from \"mobx-react\";\r\nimport store from \"./../../../../store\";\r\nimport \"./style.scss\";\r\n\r\nconst Header = observer(({ match }) => {\r\n  let history = useHistory();\r\n  const { authStore } = useContext(store);\r\n\r\n  const logout = () => {\r\n    authStore.logoutRequest().then(() => {\r\n      history.push(\"/login\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu\">\r\n      <img className=\"menu__img\" src=\"/logo.png\" alt=\"logo\" />\r\n      <ul className=\"nav\">\r\n        <li className=\"nav__link\">\r\n          <Link to=\"/admin/home\">Home</Link>\r\n        </li>\r\n        <li className=\"nav__link\">\r\n          <Link to=\"/admin/apps\">Apps</Link>\r\n        </li>\r\n        <li className=\"nav__link\">\r\n          <Link to=\"/admin/music\">Music</Link>\r\n        </li>\r\n      </ul>\r\n      <div className=\"menu__button-logout\" onClick={logout}>\r\n        Logout\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.scss\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className=\"footer\">\r\n      <ul className=\"footer-links\">\r\n        <li>\r\n          <Link to=\"/admin/home\">Home</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/admin/apps\">Apps</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/admin/music\">Music</Link>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport Apps from \"./../Apps\";\r\nimport Music from \"./../Music\";\r\nimport Home from \"./../Home\";\r\nimport Header from \"./../../App/Layout/Header\";\r\nimport Footer from \"./../../App/Layout/Footer\";\r\nimport { Route } from \"react-router-dom\";\r\n\r\nconst Admin = ({ match }) => {\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <Route path={`${match.path}/home`} component={Home} />\r\n      <Route path={`${match.path}/apps`} component={Apps} />\r\n      <Route path={`${match.path}/music`} component={Music} />\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n","import React from \"react\";\r\nimport \"./style.scss\";\r\n\r\nexport const LoginInput = ({ input, meta }) => {\r\n  return (\r\n    <div className=\"input-wrapper\">\r\n      <label className=\"input-wrapper__label\">Логин</label>\r\n      <input className=\"input-wrapper__input\" type=\"text\" {...input} />\r\n      {meta.error && meta.visited && !meta.active && (\r\n        <p className=\"input-wrapper__error\">{meta.error}</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./style.scss\";\r\n\r\nexport const PasswordInput = ({ meta, input }) => {\r\n  return (\r\n    <div className=\"input-wrapper\">\r\n      <label className=\"input-wrapper__label\">Пароль</label>\r\n      <input className=\"input-wrapper__input\" type=\"password\" {...input} />\r\n      {meta.error && meta.visited && !meta.active && (\r\n        <p className=\"input-wrapper__error\">{meta.error}</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","export const messages = {\r\n  login: {\r\n    errors: {\r\n      email: \"Логин обязательный для заполнения!\",\r\n      password: \"Пароль обязательный для заполнения!\",\r\n      incorrect: \"Неверные данные!\"\r\n    }\r\n  }\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { useHistory, Redirect } from \"react-router-dom\";\r\nimport { Form, Field } from \"react-final-form\";\r\nimport { observer } from \"mobx-react\";\r\nimport store from \"./../../../store\";\r\nimport \"./style.scss\";\r\nimport { LoginInput } from \"./../../UI/LoginInput\";\r\nimport { PasswordInput } from \"./../../UI/PasswordInput\";\r\nimport {\r\n  ToastsContainer,\r\n  ToastsStore,\r\n  ToastsContainerPosition\r\n} from \"react-toasts\";\r\nimport { messages } from \"./../../../messages\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nconst Login = observer(() => {\r\n  const { authStore } = useContext(store);\r\n  const history = useHistory();\r\n\r\n  const onSubmit = values => {\r\n    authStore.changeLoading(true);\r\n    authStore\r\n      .loginRequest(values)\r\n      .then(() => {\r\n        history.push(\"/admin/home\");\r\n      })\r\n      .catch(() => {\r\n        authStore.changeLoading(false);\r\n        ToastsStore.error(messages.login.errors.incorrect);\r\n      });\r\n  };\r\n\r\n  const validate = values => {\r\n    const errors = {};\r\n\r\n    if (!values.email) errors.email = messages.login.errors.email;\r\n    if (!values.password) errors.password = messages.login.errors.password;\r\n\r\n    return errors;\r\n  };\r\n\r\n  return !Object.keys(authStore.user).length ? (\r\n    authStore.loading ? (\r\n      <div className=\"form-wrapper\">\r\n        <Loader\r\n          type=\"Puff\"\r\n          color=\"#40e1d1\"\r\n          height={100}\r\n          width={100}\r\n          timeout={3000}\r\n        />\r\n      </div>\r\n    ) : (\r\n      <div className=\"form-wrapper\">\r\n        <Form\r\n          onSubmit={onSubmit}\r\n          validate={validate}\r\n          render={({ handleSubmit }) => (\r\n            <form onSubmit={handleSubmit} className=\"form login-form\">\r\n              <img className=\"form__img\" src=\"/logo.png\" alt=\"logo\" />\r\n              <h2 className=\"form__title\">Вход</h2>\r\n\r\n              <Field name=\"email\" component={LoginInput} />\r\n              <Field name=\"password\" component={PasswordInput} />\r\n\r\n              <button className=\"form__submit\" type=\"submit\">\r\n                Войти\r\n              </button>\r\n            </form>\r\n          )}\r\n        />\r\n        <ToastsContainer\r\n          store={ToastsStore}\r\n          position={ToastsContainerPosition.TOP_CENTER}\r\n          color=\"white\"\r\n        />\r\n      </div>\r\n    )\r\n  ) : (\r\n    <Redirect to=\"/admin/home\" />\r\n  );\r\n});\r\n\r\nexport default Login;\r\n","import React, { useContext } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { observer } from \"mobx-react\";\r\nimport store from \"./../../store\";\r\n\r\nconst PrivateRoute = observer(({ component: RouteComponent, ...rest }) => {\r\n  const { authStore } = useContext(store);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={routeProps =>\r\n        Object.keys(authStore.user).length ? (\r\n          <RouteComponent {...routeProps} />\r\n        ) : (\r\n          <Redirect to=\"/login\" />\r\n        )\r\n      }\r\n    />\r\n  );\r\n});\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\n\r\nfunction NoPage() {\r\n  return <div>Такой страницы нет...</div>;\r\n}\r\n\r\nexport default NoPage;\r\n","import React, { useContext, useEffect } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Admin from \"./../Pages/Admin\";\nimport Login from \"./../../components/Auth/Login\";\nimport \"./App.scss\";\nimport PrivateRoute from \"./../../common/Routes/PrivateRoute\";\nimport NoPage from \"./Layout/NoPage\";\nimport { observer } from \"mobx-react\";\nimport store from \"./../../store\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nconst App = observer(() => {\n  const { authStore } = useContext(store);\n\n  useEffect(() => {\n    if (authStore.accessToken) {\n      authStore.changeLoading(true);\n      authStore.userRequest();\n    }\n  });\n\n  return (\n    <div>\n      <Switch>\n        <Route path=\"/login\" component={Login} />\n        <PrivateRoute path=\"/admin\" component={Admin} />\n        <Route path=\"*\">\n          <NoPage />\n        </Route>\n      </Switch>\n    </div>\n  );\n});\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./components/App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}